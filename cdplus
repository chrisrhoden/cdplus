#!/usr/bin/env bash
cdp(){ a=0;b="ls";c=$HOME;until [ -z "$1" ];do d="$1";if [ "$d" == "-q" ]||[ "$d" == "--quiet" ];then a=1;elif [ "$d" == "-e" ]||[ "$d" == "--exec" ];then shift;b="$1";else c="$d";fi;shift;done;pushd "$c" > /dev/null 2> $HOME/.cdpr;if [ $? -ne 0 ];then a=1;sed -e "s/^.*pushd:/$0:/" $HOME/.cdpr;fi;if [ $a -ne 1 ];then $b;fi; }
